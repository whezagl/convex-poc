---
phase: 08-example-task
plan: 01
type: execute
---

<objective>
Create end-to-end demonstration of multi-agent workflow with a real coding task.

Purpose: Validate that the Planner→Coder→Reviewer pipeline works correctly with a practical example, demonstrating the orchestration patterns established in Phase 7.

Output: Working example script that executes a simple coding task through the full agent workflow, with artifacts generated and review feedback captured.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Tech stack available (from Phase 7):
- SequentialOrchestrator for multi-agent coordination
- PlannerAgent, CoderAgent, ReviewerAgent with executePlan(), executeCode(), executeReview() methods
- Filesystem state passing (plan.json, code.json, review.json)
- Optional Convex workflow tracking

# Established patterns (from Phase 7):
- Sequential workflow: Planner→Coder→Reviewer pipeline
- Filesystem as shared memory for agent artifacts
- Error boundaries with continueOnError flag
- WorkflowResult with steps, artifacts, and finalReview

# Key files (from Phase 7):
@src/orchestrator/SequentialOrchestrator.ts
@src/orchestrator/state.ts
@src/types/workflow.ts
@examples/workflow-execution.ts

# Constraining decisions from Phase 7:
- Sequential orchestration chosen over parallel for simpler state management
- Filesystem state passing enables inspection and debugging
- Optional Convex integration allows local development without backend
- continueOnError flag allows resilient workflow execution

# Prior summaries:
@.planning/phases/03-agent-foundation/03-01-SUMMARY.md - BaseAgent pattern with hooks
@.planning/phases/04-planner-agent/04-01-SUMMARY.md - PlannerAgent with executePlan()
@.planning/phases/05-coder-agent/05-01-SUMMARY.md - CoderAgent with executeCode()
@.planning/phases/06-reviewer-agent/06-01-SUMMARY.md - ReviewerAgent with executeReview()
@.planning/phases/07-orchestration/07-01-SUMMARY.md - SequentialOrchestrator coordination
</context>

<tasks>

<task type="auto">
  <name>Task 1: Design demonstration task</name>
  <files>examples/real-example.ts</files>
  <action>
Create a new example script (examples/real-example.ts) that demonstrates the full multi-agent workflow with a concrete, simple coding task.

Task should be simple enough to complete in one workflow cycle but meaningful enough to show all agents working:
- Example: "Create a TypeScript utility function for validating email addresses with regex"
- Task requirements: Function should return boolean, handle edge cases (empty, null, invalid format)
- Expected to demonstrate: Planning (decomposition into steps), Coding (implementation), Reviewing (validation)

Use the existing workflow-execution.ts as a template but make this script actually executable with the full workflow.

Do NOT make real API calls yet - this is about setting up the demonstration structure. The task will be commented out with clear instructions for running with API credentials.
</action>
  <verify>
File examples/real-example.ts exists with:
- SequentialOrchestrator instantiation
- WorkflowContext with concrete task description
- Expected workflow documentation (steps, artifacts)
- Clear instructions for enabling actual execution
</verify>
  <done>
examples/real-example.ts created with demonstration task structure, documented expected workflow behavior
</done>
</task>

<task type="auto">
  <name>Task 2: Create task artifacts and verification utilities</name>
  <files>examples/verify-output.ts, examples/expected-artifacts/plan.json.example, examples/expected-artifacts/code.json.example, examples/expected-artifacts/review.json.example</files>
  <action>
Create verification utilities and example artifacts to demonstrate expected workflow output.

1. Create examples/verify-output.ts:
   - Utility functions to load and validate workflow artifacts
   - Checks for artifact existence (plan.json, code.json, review.json)
   - Validates artifact structure against types (PlanResult, CodeResult, ReviewResult)
   - Displays workflow summary (steps completed, issues found, overall status)

2. Create examples/expected-artifacts/ directory with example JSON files:
   - plan.json.example: Expected structure from PlannerAgent
   - code.json.example: Expected structure from CoderAgent
   - review.json.example: Expected structure from ReviewerAgent

These examples should show what successful workflow output looks like, making it easier to verify actual runs.
</action>
  <verify>
- examples/verify-output.ts exists with artifact loading and validation functions
- examples/expected-artifacts/ contains three .example files
- Each example file shows the expected JSON structure from the corresponding agent
- verify-output.ts can be run: npm run dev examples/verify-output.ts
</verify>
  <done>
Verification utilities created, example artifacts documented showing expected workflow output structure
</done>
</task>

<task type="auto">
  <name>Task 3: Create README for running the example</name>
  <files>examples/README.md</files>
  <action>
Create examples/README.md with complete instructions for running the demonstration task.

Include:
1. Prerequisites (API key setup, Convex backend optional)
2. Step-by-step execution guide
3. Expected output and artifacts
4. Troubleshooting common issues
5. How to verify workflow success

The README should make it possible for someone to run the example end-to-end and understand what's happening at each step.
</action>
  <verify>
examples/README.md exists with:
- Prerequisites section
- Execution steps
- Expected output description
- Troubleshooting guide
- Verification instructions
</verify>
  <done>
README created with complete instructions for running and verifying the demonstration task
</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete demonstration example with verification utilities</what-built>
  <how-to-verify>
    1. Review examples/real-example.ts - shows the full workflow setup
    2. Review examples/verify-output.ts - shows how to validate artifacts
    3. Review examples/expected-artifacts/ - shows expected output structure
    4. Review examples/README.md - documents how to run everything
    5. Confirm the demonstration is clear and complete
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe what needs adjustment</resume-signal>
</task>

<task type="auto">
  <name>Task 4: Document example task in project README</name>
  <files>README.md (project root)</files>
  <action>
Update or create project root README.md to include the demonstration example.

Add:
1. Quick start section pointing to examples/README.md
2. Overview of the demonstration task
3. What the example demonstrates (multi-agent coordination, state passing, etc.)
4. Link to examples/ directory for full details

If README.md doesn't exist, create it. If it exists, add an "Example" section.
</action>
  <verify>
README.md exists in project root with:
- Reference to the demonstration example
- Quick start instructions
- Link to examples/README.md
</verify>
  <done>
Project README updated with demonstration example documentation
</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] examples/real-example.ts exists and is well-documented
- [ ] examples/verify-output.ts can validate workflow artifacts
- [ ] examples/expected-artifacts/ contains all three example files
- [ ] examples/README.md has complete execution instructions
- [ ] Project root README.md references the example
- [ ] TypeScript compilation passes: npm run build
- [ ] All existing tests still pass: npm test
</verification>

<success_criteria>

- Demonstration example is complete and documented
- Verification utilities can validate workflow output
- User can understand and run the example (with API credentials)
- Phase 8 ready for Phase 9: Documentation
  </success_criteria>

<output>
After completion, create `.planning/phases/08-example-task/08-01-SUMMARY.md`:

# Phase 8 Plan 1: Example Task Summary

**[Substantive one-liner - what was demonstrated]**

## Accomplishments

- Created end-to-end demonstration of multi-agent workflow
- [Key outcome 2]
- [Key outcome 3]

## Files Created/Modified

- `examples/real-example.ts` - Complete workflow demonstration
- `examples/verify-output.ts` - Artifact validation utilities
- `examples/expected-artifacts/*.example` - Example output structures
- `examples/README.md` - Complete execution guide
- `README.md` - Project documentation updated

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Phase 8 complete, ready for Phase 9: Documentation
</output>
